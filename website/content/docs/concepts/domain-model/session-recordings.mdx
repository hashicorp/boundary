---
layout: docs
page_title: Domain model - session recordings
description: |-
  The anatomy of a Boundary session recording
---

# Session recordings

<EnterpriseAlert product="boundary">This feature requires <a href="https://www.hashicorp.com/products/boundary">HCP Boundary or Boundary Enterprise</a></EnterpriseAlert>

A session recording represents a directory structure of
files in an external object store that together are the
recording of a single [session][] between a [user][] and a [target][].

The lifecycle of a session recording does not affect the
lifecycle of any files stored in the external object store.

A session recording belongs to one and only one [storage bucket][].
It is deleted when you delete the [storage bucket][] it belongs to.

A session recording is associated with the
[target][] that the recorded session was against.
However, the lifecycle of a session recording is not tied to
the lifecycle of the [target][] it is associated with.
If the [target][] associated wtih a session recording is deleted,
the association to the [target][] is deleted, not the session recording itself.

Deleting a session recording does not delete or modify
any of the files in the external object store that the session recording represents.

The session recording captures all interactions that take place during
the session, including metadata about the [user][], [target][] and any
[hosts][], [host sets][], [host catalogs][], or [credentials][] used.

A session recording represents [connections][] as separate
entities within the recording. Each recorded connection may also contain a recorded channel. This represents a single channel
in which the [user][] interacted with the [target][] in protocols that
multiplex user interactions over single connections. For example,
the SSH protocol multiplexes user interactions in a single
connection, so a user's interactions over SSH are recorded
in a channel.

A session recording belongs to the scope of the [storage bucket][]
it is stored in. The scope can be either the global scope or an [organization][]
scope.

## Resultant Set Of Policy Calculation

A storage policy codifies how long a session recording must be kept and when they should be deleted.
The Resultant Set of Policy (RSoP) refers to the set of policy attributes that will be used on a resource.
When policies are applied on multiple levels the results can conflict, for storage [olicies when evaluating the RSoP the system will evaluate each policy attribute individually starting at the global scope and moving down.
This means that evaluating the storage policy assigned to the global scope then evaluating the storage policy assigned to the org scope.
When evaluating the RSoP, the system will make use of the following principles, in order:

1. Retention wins over deletion. The retention duration parameter guarantees that a session recording will be retained for at least that duration. Before the retention duration has transpired manual deletes will fail and Boundary will not attempt to automatically delete any session recordings.
2. Longest retention wins. When evaluating multiple storage policies the longer retention duration parameter will apply to the session recording.
3. The shortest deletion wins. When evaluating multiple storage policies the shorter delete after duration parameter will apply to the session recording.

Each attribute of a storage policy also indicates whether the attribute can be overridden or not.
If the attribute cannot be overridden Boundary will stop evaluating the RSoP for that attribute at lower scopes.

Changing the assigned policy of a scope or changing an attribute of a storage policy can impact the RSoP.
Such a change will only affect future session recordings created within that scope or with that storage policy.
When a session recording is not in compliance with the current RSoP the session recording API will indicate that it is out of compliance with the current policy.

## Service API docs

The following services are relevant to this resource:

- [Session recording service](/boundary/api-docs/session-recording-service)

[connections]: /boundary/docs/concepts/domain-model/session-connections
[credentials]: /boundary/docs/concepts/domain-model/credentials
[host catalogs]: /boundary/docs/concepts/domain-model/host-catalogs
[host sets]: /boundary/docs/concepts/domain-model/host-sets
[hosts]: /boundary/docs/concepts/domain-model/hosts
[target]: /boundary/docs/concepts/domain-model/targets
[user]: /boundary/docs/concepts/domain-model/users
[organization]: /boundary/docs/concepts/domain-model/scopes#organizations
[session]: /boundary/docs/concepts/domain-model/sessions
[storage bucket]: /boundary/docs/concepts/domain-model/storage-buckets