---
layout: docs
page_title: connect postgres - Command
description: |-
  The "connect postgres" command performs a target authorization (or consumes an existing authorization token) and launches a proxied postgres connection.
---

# connect postgres

The Boundary connect postgres helper will automatically execute `psql` for you,
filling in the local address and port.

For example, adding the `-username` flag on execution of Boundary connect SSH
helper will ensure that the username will be passed to the executed client with
the right syntax.

Another example includes usage of the `-style` flag in order to allow the command to
format arguments in a different style expected by different SSH clients.

The Boundary connect SSH helper is written as `boundary connect ssh`.
You can run `boundary connect ssh -h` to see the available options, and arguments.

<Note>

You must still accept the host key upon first connect.

An expected host ID is set to avoid warnings on future connections when a
different port is allocated automatically.
</Note>

## Examples

### Boundary connect POSTGRES helper with `dbname`:
```shell-session
$ boundary connect postgres -target-id ttcp_7SfC4jk3cJ  -dbname northwind
```

### Boundary connect SSH helper with additional flags and options:

```shell-session
$ boundary connect postgres -target-id ttcp_eTcZMueUYv -dbname -username=superuser -format=table
```

### Usage

```shell-session
Usage: boundary connect postgres [options] [args]

  ...
  This command performs a target authorization (or consumes an existing authorization token) and launches a proxied
  postgres connection.
```

### Connection Options:

- `addr=<string>`
  Addr of the Boundary controller, as a complete 
  URL (as example `https://boundary.example.com:9200`).
  This can also be specified via the `BOUNDARY_ADDR` environment variable.

- `ca-cert=<string>`
  Path on the local disk to a single PEM-encoded CA certificate to
  verify the Controller or Worker's server's SSL certificate. This
  takes precedence over `-ca-path`. This can also be specified via the
  `BOUNDARY_CACERT` environment variable.

- `ca-path=<string>`
  Path on the local disk to a directory of PEM-encoded CA certificates to
  verify the SSL certificate of the Controller. This can also be specified
  via the `BOUNDARY_CAPATH` environment variable.

- `client-cert=<string>`
  Path on the local disk to a single PEM-encoded CA certificate to use
  for TLS authentication to the Boundary Controller. If this flag is
  specified, `-client-key` is also required. This can also be specified via
  the `BOUNDARY_CLIENT_CERT` environment variable.

- `client-key=<string>`
  Path on the local disk to a single PEM-encoded private key matching the
  client certificate from `-client-cert`. This can also be specified via the
  `BOUNDARY_CLIENT_KEY` environment variable.

- `tls-insecure=<bool: false>`
  Disable verification of TLS certificates. Using this option is highly
  discouraged as it decreases the security of data transmissions to
  and from the Boundary server. The default is `false`. This can also be
  specified via the `BOUNDARY_TLS_INSECURE` environment variable.

- `tls-server-name=<string>`
  Name to use as the SNI host when connecting to the Boundary server
  via TLS. This can also be specified via the `BOUNDARY_TLS_SERVER_NAME`
  environment variable.

### Client Options:

- `keyring-type=<string>`
  The type of keyring to use. Defaults to `auto` which will use the
  Windows credential manager, OSX keychain, or cross-platform password
  store depending on platform. Set to `none` to disable keyring
  functionality. Available types, depending on platform, are: `wincred`,
  `keychain`, `pass`, and `secret-service`. The default is auto. This can
  also be specified via the `BOUNDARY_KEYRING_TYPE` environment variable.

- `output-curl-string=<bool: false>`
  Instead of executing the request, print an equivalent `cURL` command
  string and exit. The default is `false`.

- `recovery-config=<string>`
  If specified, the given config file will be parsed for a `kms` block
  with purpose `recovery` and will use the recovery mechanism to authorize
  the call." This can also be specified via the `BOUNDARY_RECOVERY_CONFIG`
  environment variable.

- `token=<string>`
  A URL pointing to a file on disk `(file://)` from which a token will be
  read or an env var `(env://)` from which the token will be read. Overrides
  the `token-name` parameter.

- `token-name=<string>`
  If specified, the given value will be used as the name when storing
  the token in the system credential store. This can allow switching user
  identities for different commands. This can also be specified via the
  `BOUNDARY_TOKEN_NAME` environment variable.

### Output Options:

 - `format=<string>`
   Print the output in the given format. Valid formats are `table` or
   `json`. The default is `table`. This can also be specified via the
   `BOUNDARY_CLI_FORMAT` environment variable.

### Connect Options:

- `authz-token=<string>`
  Only needed if `-target-id` is not set. The authorization string returned
  from the Boundary controller via an `authorize-session` action against
  a target. If set to `-`, the command will attempt to read in the
  authorization string from standard input. This can also be specified via
  the `BOUNDARY_CONNECT_AUTHZ_TOKEN` environment variable.

- `exec=<string>`
   If set, after connecting to the worker, the given binary will be
   executed. This should be a binary on your path, or an absolute path. If
   all command flags are followed by ` -- ` (space, two hyphens, space),
   then any arguments after that will be sent directly to the binary.
   This can also be specified via the `BOUNDARY_CONNECT_EXEC` environment
   variable.

- `host-id=<string>`
   The `ID` of a specific host to connect to out of the hosts from the
   target's host sets. If not specified, one is chosen at random.

- `target-id=<string>`
  The ID of the target to authorize against. Cannot be used with 
  `-authz-token`.

- `target-name=<string>`
  Target name, if authorizing the session via scope parameters and target 
  name.

- `target-scope-id=<string>`
  Target scope ID, if authorizing the session via scope parameters and
  target name. Mutually exclusive with `-scope-name`. This can also be
  specified via the `BOUNDARY_CONNECT_TARGET_SCOPE_ID` environment variable.

- `target-scope-name=<string>`
  Target scope name, if authorizing the session via scope parameters
  and target name. Mutually exclusive with `-scope-id`. This can also
  be specified via the `BOUNDARY_CONNECT_TARGET_SCOPE_NAME` environment
  variable.

### Postgres Options:

- `dbname=<string>`
  Specifies the database name to pass through to the client. This can also
  be specified via the `BOUNDARY_CONNECT_DBNAME` environment variable.

- `style=<string>`
  Specifies how the CLI will attempt to invoke a Postgres client. This
  will also set a suitable default for `-exec` if a value was not specified.
  Currently-understood values are `psql`. The default is psql. This can
  also be specified via the `BOUNDARY_CONNECT_POSTGRES_STYLE` environment
  variable.

- `username=<string>`
  Specifies the username to pass through to the client. May be overridden
  by credentials sourced from a credential store. This can also be
  specified via the `BOUNDARY_CONNECT_USERNAME` environment variable.
