                                                                                                   QUERY PLAN                                                                                                   
----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
 GroupAggregate  (cost=52.05..52.07 rows=1 width=169) (actual time=1.557..1.608 rows=30 loops=1)
   Group Key: app_token_permission_global.private_id, app_token_global.public_id
   ->  Sort  (cost=52.05..52.05 rows=1 width=144) (actual time=1.539..1.545 rows=30 loops=1)
         Sort Key: app_token_permission_global.private_id
         Sort Method: quicksort  Memory: 32kB
         ->  Nested Loop  (cost=23.18..52.04 rows=1 width=144) (actual time=1.101..1.491 rows=30 loops=1)
               ->  Nested Loop  (cost=23.03..51.29 rows=1 width=176) (actual time=1.088..1.413 rows=30 loops=1)
                     ->  Nested Loop  (cost=22.88..51.11 rows=1 width=176) (actual time=1.076..1.351 rows=30 loops=1)
                           Join Filter: ((app_token_permission_global.private_id)::text = (app_token_permission_grant.permission_id)::text)
                           ->  Nested Loop  (cost=22.60..49.63 rows=1 width=176) (actual time=1.060..1.222 rows=30 loops=1)
                                 ->  Nested Loop  (cost=22.45..41.46 rows=1 width=176) (actual time=1.053..1.172 rows=30 loops=1)
                                       ->  Hash Join  (cost=22.19..39.89 rows=3 width=201) (actual time=1.032..1.054 rows=30 loops=1)
                                             Hash Cond: ((org_grants.permission_id)::text = (app_token_permission_global.private_id)::text)
                                             ->  Seq Scan on app_token_permission_global_individual_org_grant_scope org_grants  (cost=0.00..16.10 rows=610 width=64) (actual time=0.015..0.019 rows=30 loops=1)
                                             ->  Hash  (cost=22.10..22.10 rows=7 width=137) (actual time=0.984..0.985 rows=1530 loops=1)
                                                   Buckets: 2048 (originally 1024)  Batches: 1 (originally 1)  Memory Usage: 238kB
                                                   ->  Bitmap Heap Scan on app_token_permission_global  (cost=4.33..22.10 rows=7 width=137) (actual time=0.173..0.481 rows=1530 loops=1)
                                                         Recheck Cond: ((app_token_id)::text = 'at_global_comprehensive'::text)
                                                         Heap Blocks: exact=28
                                                         ->  Bitmap Index Scan on app_token_permission_global_app_token_id_idx  (cost=0.00..4.33 rows=7 width=0) (actual time=0.158..0.158 rows=1530 loops=1)
                                                               Index Cond: ((app_token_id)::text = 'at_global_comprehensive'::text)
                                       ->  Index Only Scan using iam_scope_pkey on iam_scope  (cost=0.26..0.52 rows=1 width=7) (actual time=0.003..0.003 rows=1 loops=30)
                                             Index Cond: (public_id = (org_grants.scope_id)::text)
                                             Heap Fetches: 30
                                 ->  Index Only Scan using app_token_global_pkey on app_token_global  (cost=0.15..8.17 rows=1 width=32) (actual time=0.001..0.001 rows=1 loops=30)
                                       Index Cond: (public_id = 'at_global_comprehensive'::text)
                                       Heap Fetches: 30
                           ->  Index Only Scan using app_token_permission_grant_pkey on app_token_permission_grant  (cost=0.28..1.26 rows=17 width=64) (actual time=0.004..0.004 rows=1 loops=30)
                                 Index Cond: (permission_id = (org_grants.permission_id)::text)
                                 Heap Fetches: 30
                     ->  Index Scan using iam_grant_pkey on iam_grant  (cost=0.15..0.18 rows=1 width=64) (actual time=0.001..0.001 rows=1 loops=30)
                           Index Cond: ((canonical_grant)::text = (app_token_permission_grant.canonical_grant)::text)
               ->  Index Only Scan using iam_grant_resource_enm_pkey on iam_grant_resource_enm  (cost=0.15..0.55 rows=1 width=32) (actual time=0.002..0.002 rows=1 loops=30)
                     Index Cond: ((name = iam_grant.resource) AND (name = ANY ('{*,role,unknown}'::text[])))
                     Heap Fetches: 30
 Planning Time: 3.152 ms
 Execution Time: 1.910 ms
